<!DOCTYPE html>
<html>
<head>
  <title>Monster Slayer</title>
  <script src="https://npmcdn.com/vue/dist/vue.js"></script>
  <link rel="stylesheet" href="css/foundation.min.css">
  <link rel="stylesheet" href="css/app.css">
</head>
<body>
  <div id="app">
    <section class="row">
      <div class="small-6 columns">
        <h1 class="text-center">YOU</h1>
        <div class="healthbar">
          <div class="healthbar text-center" :style="healthbar">
            {{ healthbar.width }}
            <template v-if="healthbar.width == '0%'">
              {{ alertMe('lose!') }}
            </template>
          </div>
        </div>
      </div>
      <div class="small-6 columns">
        <h1 class="text-center">MONSTER</h1>
        <div class="healthbar">
          <div class="healthbar text-center" style="background-color: green; margin: 0; color: white;">

          </div>
        </div>
      </div>
    </section>
    <section class="row controls" v-show="!newGame">
      <div class="small-12 columns">
        <button id="start-game" @click="newGame = !newGame">START NEW GAME</button>
      </div>
    </section>
    <section class="row controls"  v-show="newGame">
      <div class="small-12 columns">
        <button id="attack" @click="turn('attack')">ATTACK</button>
        <button id="special-attack" @click="turn('specialattack')">SPECIAL ATTACK</button>
        <button id="heal" @click="turn('heal')">HEAL</button>
        <button id="give-up" @click="turn('giveup')">GIVE UP</button>
      </div>
    </section>
    <section class="row log">
      <div class="small-12 columns">
        <ul>
          <li>

          </li>
        </ul>
      </div>
    </section>
  </div>
  <script>
  new Vue({
    el: '#app',
    data: {
      newGame: false,
      myLife: 100,
      monsterLife: 100,
      healthbar: {
        width: '100%',
        backgroundColor: 'green',
        margin: 0,
        color: 'white'
      }
    },
    methods: {
      turn: function(event){
        var self = this;
        var num = this.healthbar.width;
        num = Number(num.replace('%',''));
        switch (event) {
          case "attack":
            if((num - 10) > 0){
              num = num - 10;
            } else{
              num = 0;
            }
            this.healthbar.width = num + '%';
            break;
          case "heal":
            if(num < 100){
              num = num + 10;
              this.healthbar.width = num + '%';
            }
            break;
          case "specialattack":
            if((num - 20) > 0){
              num = num - 20;
            } else{
              num = 0;
            }
            this.healthbar.width = num + '%';
            break;
          case "giveup":
            this.healthbar.width = '100%';
            this.newGame = false;
            break;
          default:
            num = num - 10;
            this.healthbar.width = num + '%';
        }
      },
      alertMe: function(event){
        alert("You " + event);
      }
    }
  });
  </script>
</body>
</html>
